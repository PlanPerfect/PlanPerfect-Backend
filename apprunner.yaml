version: 1.0
runtime: python311
build:
  commands:
    build:
      - pip3 install -r requirements.txt
run:
  command: uvicorn app:app --host 0.0.0.0 --port 8080
  network:
    port: 8080
  env:
    - name: PORT
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:PORT::
    - name: DEV_MODE
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:DEV_MODE::
    - name: SMTP_HOST
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:SMTP_HOST::
    - name: SMTP_PORT
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:SMTP_PORT::
    - name: EMAIL_SENDER
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:EMAIL_SENDER::
    - name: SMTP_APP_PASSWORD
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:SMTP_APP_PASSWORD::
    - name: FIREBASE_DATABASE_URL
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:FIREBASE_DATABASE_URL::
    - name: FIREBASE_CREDENTIALS_PATH
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:FIREBASE_CREDENTIALS_PATH::
    - name: VITE_FRONTEND_URL
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:VITE_FRONTEND_URL::
    - name: API_KEY
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:API_KEY::
    - name: PINECONE_API_KEY
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:PINECONE_API_KEY::
    - name: PINECONE_INDEX_NAME
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:PINECONE_INDEX_NAME::
    - name: GEMINI_API_KEY
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:GEMINI_API_KEY::
    - name: GROQ_API_KEY
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:GROQ_API_KEY::
    - name: GROQ_ALT_API_KEY
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:GROQ_ALT_API_KEY::
    - name: RAG_DOCUMENT_PATH
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:RAG_DOCUMENT_PATH::
    - name: CLOUDINARY_URL
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:CLOUDINARY_URL::
    - name: PEXELS_API_KEY
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:PEXELS_API_KEY::
    - name: LINKUP_API_KEY
      secret: arn:aws:secretsmanager:ap-southeast-2:229000357637:secret:planperfect-prod-URKeoG:LINKUP_API_KEY::